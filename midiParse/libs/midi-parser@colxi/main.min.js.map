{"version":3,"sources":["STDIN"],"names":["MidiParser","debug","parse","input","_callback","Uint8Array","Uint8","Base64","HTMLElement","type","addListener","Error","_fileElement","File","FileReader","undefined","tagName","toLowerCase","console","warn","addEventListener","InputEvt","target","files","length","log","let","reader","readAsArrayBuffer","onload","e","result","b64String","raw","string","b64","replace","String","test","TypeError","slice","bitmap","r1","r2","i","indexOf","charAt","fromCharCode","_atob","rawLength","t_array","ArrayBuffer","charCodeAt","FileAsUint8Array","file","data","pointer","movePointer","_bytes","this","readInt","Math","min","byteLength","value","getUint8","pow","readStr","text","char","readIntVLV","FirstBytes","push","lastByte","dt","DataView","buffer","byteOffset","MIDI","formatType","tracks","track","timeDivisionByte1","timeDivisionByte2","timeDivision","t","event","event_length","headerValidation","endOfTrack","statusByte","laststatusByte","deltaTime","metaType","metaEventLength","customInterpreter","info","toString","split","unshift","parseInt","channel","module","exports","_global","window","self","global"],"mappings":"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"}