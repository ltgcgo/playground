"use strict";!function(){const T=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188],q=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215,33554431,67108863,134217727,268435455,536870911,1073741823,-2147483648];var r={decompress:function(f,i=!1){let a=0,h=0,c=0;const u=r=>{if(32<=r){var t=r>>1;return u(t)*(1<<t)+u(r-t)}for(;c<r;)h=(h<<8)+f[a],a+=1,c+=8;var e=q[r],t=h>>c-r&e;return c-=r,h&=~(e<<c),t};if(16986!==u(16))throw new Error("Invalid magic");if(104!==u(8))throw new Error("Invalid method");let r=u(8);if(!(49<=r&&r<=57))throw new Error("Invalid blocksize");r-=48;let p=new Uint8Array(1.5*f.length),w=0,v=-1;for(;;){var d=u(48),g=0|u(32);if(54156738319193!==d){if(25779555029136!==d)throw new Error("Invalid bz2 blocktype");u(7&c);break}{if(u(1))throw new Error("do not support randomised");d=u(24);const U=[];var b=u(16);for(let r=32768;0<r;r>>=1)if(b&r){var m=u(16);for(let r=32768;0<r;r>>=1)U.push(!!(m&r))}else for(let r=0;r<16;r+=1)U.push(!1);var y=u(3);if(y<2||6<y)throw new Error("Invalid number of huffman groups");var E=u(15);const $=[],j=Array.from({length:y},(r,t)=>t);for(let r=0;r<E;r+=1){let t=0;for(;u(1);)if(t+=1,t>=y)throw new Error("MTF table out of range");var A=j[t];for(let r=t;0<r;j[r]=j[--r]);$.push(A),j[0]=A}var k=U.reduce((r,t)=>r+t,0)+2;const x=[];for(let r=0;r<y;r+=1){let t=u(5);const M=[];for(let r=0;r<k;r+=1){if(t<0||20<t)throw new Error("Huffman group length outside range");for(;u(1);)t-=2*u(1)-1;M.push(t)}x.push(function(t){const e=[];for(let r=0;r<t.length;r+=1)e.push([r,t[r]]);e.push([t.length,-1]);const o=[];let n=e[0][0],s=e[0][1];for(let r=0;r<e.length;r+=1){var l=e[r][0],f=e[r][1];if(s)for(let r=n;r<l;r+=1)o.push({code:r,bits:s,symbol:void 0});if(n=l,-1===(s=f))break}o.sort((r,t)=>r.bits-t.bits||r.code-t.code);let i=0,a=-1;const h=[];let c;for(let r=0;r<o.length;r+=1){const u=o[r];a+=1,u.bits!==i&&(a<<=u.bits-i,i=u.bits,c=h[i]={}),u.symbol=a,c[a]=u}return{table:o,fastAccess:h}}(M))}const F=[];for(let r=0;r<U.length-1;r+=1)U[r]&&F.push(r);let r=0,t=0,e,o,n=0,s=0;const H=[];for(;;){--r,r<=0&&(r=50,t<=$.length&&(e=x[$[t]],t+=1));for(const P in e.fastAccess)if(Object.prototype.hasOwnProperty.call(e.fastAccess,P)&&(c<P&&(h=(h<<8)+f[a],a+=1,c+=8),o=e.fastAccess[P][h>>c-P],o)){h&=q[c-=P],o=o.code;break}if(0<=o&&o<=1)0===n&&(s=1),n+=s<<o,s<<=1;else{for(var I=F[0];0<n;--n)H.push(I);if(o===k-1)break;var z=F[o-1];for(let r=o-1;0<r;F[r]=F[--r]);F[0]=z,H.push(z)}}var O=function(t,r){if(r<0||r>=t.length)throw RangeError("Out of bound");var e=t.slice();t.sort((r,t)=>r-t);const o={};for(let r=t.length-1;0<=r;--r)o[t[r]]=r;const n=[];for(let r=0;r<t.length;r+=1)n.push(o[e[r]]++);let s;r=t[s=r];const l=[];for(let r=1;r<t.length;r+=1){var f=t[s=n[s]];void 0===f?l.push(255):l.push(f)}return l.push(r),l.reverse(),l}(H,d);let l=0;for(;l<O.length;){var C,R=O[l];let t=1;l<O.length-4&&O[l+1]===R&&O[l+2]===R&&O[l+3]===R?(t=O[l+4]+4,l+=5):l+=1,w+t>=p.length&&(C=p,p=new Uint8Array(2*C.length),p.set(C));for(let r=0;r<t;r+=1)i&&(v=v<<8^T[255&(v>>24^R)]),p[w]=R,w+=1}if(i){d=-1^v;if(d!=g)throw new Error(`CRC mismatch: ${d} !== ${g}`);v=-1}}}return p.subarray(0,w)}};"undefined"!=typeof window?window.bz2=r:module.exports=r}();
